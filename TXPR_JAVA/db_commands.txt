create table MyUser(
    id int generated by default as identity primary key,
    username varchar (100) unique not null ,
    password varchar (200),
    rating float,
    number_of_reviews int
);

create table MyOrder(
    id int generated by default as identity primary key,
    order_from_city varchar(100),
    order_to_city varchar(100),
    order_time varchar(20),
    order_goods varchar (1000),
    order_price int,
    order_comment varchar (1000),
    order_get_or_deliver varchar (10),
    order_was_taken bool,
    order_who_took_id int,
    order_who_wait_id int,
    order_who_left_username varchar (100),
    order_who_left_id int references MyUser(id) on delete cascade
);

create table Review(
    id int generated by default as identity primary key,
    review_text varchar (10000),
    review_who_left_id int not null,
    review_who_left_username varchar (100) not null,
    review_for_user_id int references MyUser(id) on delete cascade
);

create table Response(
     id int generated by default as identity primary key,
     response_to_order_id int,
     response_who_left_the_order int,
     response_who_responsed_the_order int,
     response_get_or_deliver varchar (10),
     response_was_watched bool,
     response_cover_letter varchar (1000)
);

create table Chat(
     id int generated by default as identity primary key,
     chat_person_one int,
     chat_person_two int,
     chat_who_receives_the_message int,
     chat_text_of_message varchar (10000),
     chat_time_of_message timestamp,
     chat_the_message_was_watched bool
);

create table History(
    id int generated by default as identity primary key,
    history_order_id int,
    history_from_city varchar(100),
    history_to_city varchar(100),
    history_time int,
    history_goods varchar (1000),
    history_price int,
    history_comment varchar (1000),
    history_get_or_deliver varchar (10),
    history_who_took_id int,
    history_who_wait_id int,
    history_time_complete timestamp
);
drop table Response;
drop table History;
